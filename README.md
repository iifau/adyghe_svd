# adyghe_svd
Эмбеддинги адыгейских лемм (SVD Tf-Idf) и инструкция по их созданию.\
Файлы со всеми очищенными текстами, словарём с эмбеддинагами и отдельными компонентами SVD лежат на [диске](https://drive.google.com/drive/folders/153rFCPvBpKkbDO09XLIaaQ12EQtzbJ-z?usp=sharing).\
Важно! for_svd.py записывает в файлы наборы лемм исходных словоформ без сохранения порядка. Это делает тексты применимыми для, например, SVD Tf-Idf и неприменимыми для методов создания эмбеддингов, для которых важен порядок слов.
## Очистка и лемматизация
Сохранив структуру репозитория, поместите в adyghe/ исходные тексты в отдельных файлах формата .txt.\
Запустите for_svd.py (из UniParser, где он и находится).\
Очищенные и лемматизированные тексты сохранятся в adyghe_preparsed/. Получившиеся у меня тексты можно найти в соответствующем архиве.\
(На полную лемматизацию и очистку уйдёт около 4 суток.)
## Создание единого файла чистых текстов (и их отбор)
Запустите find_good.py, скачав filenames_list.txt.\
Будет создан lem_corpus_maxi.txt (одна строка - один очищенный и прошедший отбор текст).\
По умолчанию не добавляются в файл только пустые строки, но в find_good.py можно установить отличное от нуля значение thr (доля подлежащих лемматизации исходных токенов, которые удалось лемматизировать), чтобы отобрать тексты по качеству отработки парсера.
## Создание эмбеддингов
Запустите svd.py.\
В adyghe_dict_1000.npz в рабочей директории будет словарь лемм и их эмбеддингов.\
В svd_folder/ будут отдельные матрицы в .npy файлах (u, sigma, vt, sigma*vt).
